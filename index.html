
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>微信JS-SDK Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
  <link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/0.3.0/weui.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body ontouchstart="">
  <div class="content">
    <div class="record">
      <div class="record-row clearfix">
        <i class="weui_icon_circle select" id="item_1"></i>
        <div class="dialog voice"></div>
        <i class="weui_icon_cancel close"></i>
        <i class="weui_icon_download upload"></i>
      </div>
      <div class="record-row clearfix">
        <i class="weui_icon_circle select" id="item_2"></i>
        <div class="dialog img">
          <img src="img/pic.jpg"/>
        </div>
        <i class="weui_icon_cancel close"></i>
      </div>
      <div class="record-row clearfix">
        <i class="weui_icon_circle select" id="item_3"></i>
        <div class="dialog text">sdasd</div>
        <i class="weui_icon_cancel close"></i>
      </div>
    </div>
  </div>
  <div class="bar bar-footer-secondary">
    <div class="foot-content active" data-type="text">
      <input type="text" placeholder="请输入..." id="submitText"><button class="btn btn_primary submit" id="submitBtn">发送</button>
    </div>
    <div class="foot-content" data-type="images">
      <button class="btn btn_primary" id="chooseImg">选择图片</button>
    </div>
    <div class="foot-content" data-type="voice">
      <button class="btn btn_primary" id="transcription" data-status="start">开始录音</button>
    </div>
    <div class="foot-content" data-type="edit">
      <button class="btn edit-opt disable move-up">上移</button><button class="btn edit-opt disable move-down">下移</button><button class="btn edit-opt exit">退出</button>
    </div>
  </div>
  <nav class="bar bar-tab">
    <a class="tab-item external active" data-type="text">
      <span class="tab-label">文字</span>
    </a>
    <a class="tab-item external" data-type="images">
      <span class="tab-label">图片</span>
    </a>
    <a class="tab-item external" data-type="voice">
      <span class="tab-label">语音</span>
    </a>
  </nav>
</body>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
  wx.config({
      // debug: true,
      debug: false,
      appId: 'wxad0344327702ac33',
      timestamp: 1455671750,
      nonceStr: 'dS3oYjO9CgHKwXRP',
      signature: '65d6b0c6e81420f30b78a76d221b46559f3b858f',
      jsApiList: [
        'translateVoice',
        'startRecord',
        'stopRecord',
        'onVoiceRecordEnd',
        'playVoice',
        'onVoicePlayEnd',
        'pauseVoice',
        'stopVoice',
        'uploadVoice',
        'downloadVoice',
        'chooseImage',
      ]
  });
</script>
<script type="text/template" id="dialog-template">
  <div class="record-row clearfix">
    <i class="weui_icon_circle select" id="item_<%=id%>"></i>

    <%if("text"===type){%>
      <div class="dialog text"><%=content%></div>
    <%}else if("img"===type){%>
      <div class="dialog img"><img src="<%=content%>"></div>
    <%}else if("voice"===type){%>
      <div class="dialog voice" data-vid="<%=content%>"></div>
    <%}%>
    <i class="weui_icon_cancel close" data-id=<%=id%>></i>
    <%if("voice"===type){%>
      <i class="weui_icon_download upload"></i>
    <%}%>
  </div>
</script>
<script src="js/zepto.min.js"></script>
<script src="js/underscore-min.js"> </script>
<script src="js/index.js"> </script>
</html>
